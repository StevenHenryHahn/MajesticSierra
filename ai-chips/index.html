<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ðŸŒ³ AI Chip Companies</title>
  <link rel="stylesheet" href="/css/base.css" />
  <link rel="stylesheet" href="/css/layout.css" />
  <link rel="stylesheet" href="/css/components.css" />
  <link rel="stylesheet" href="/css/animations.css" />
  <link rel="stylesheet" href="/css/themes.css" />
  <link rel="stylesheet" href="/css/responsive.css" />
</head>

<body>
   <header class="hero">
  <h1 class="site-title" aria-label="Majestic-Sierra">Majestic Sierra</h1>
  <h2 class="page-title">ðŸŒ³ AI Chip Companies</h2>
  <div class="quote-block">
    <p class="quote-text">
      Explore firms manufacturing chips for use in AI.
    </p>
  </div>
</header>


  
 <main>
  <section class="ai-cards" aria-label="Company Listings">
    <!-- Cards injected here -->
  </section>
</main>

<script>
  console.log("âœ… ai-chips/index.html is running");

  const PAGE_CATEGORY = "chips";

  async function loadComponent(id, file) {
    const response = await fetch(file);
    const html = await response.text();
    document.getElementById(id).innerHTML = html;
  }

  // Load and render companies by category
  fetch("/data/companies.json")
    .then(res => {
      if (!res.ok) throw new Error("Failed to load JSON");
      return res.json();
    })
    .then(data => {
      const container = document.querySelector(".ai-cards");
      if (!container) throw new Error("Missing .ai-cards container");

      const filtered = data.filter(company => company.category === PAGE_CATEGORY);

      if (filtered.length === 0) {
        container.innerHTML = "<p>No companies found for this category.</p>";
        return;
      }

      container.innerHTML = ""; // Clear placeholder content

      filtered.forEach(company => {
        const card = document.createElement("div");
        card.className = "company-card";
        card.innerHTML = `
          <h2>${company.name}</h2>
          <p>${company.description || 'No description available.'}</p>
          <p><strong>Headquarters:</strong> ${company.headquarters || 'N/A'}</p>
          <p><strong>Ownership:</strong> ${company.ownership || 'N/A'}</p>
          <p><strong>Ticker:</strong> ${company.ticker || 'N/A'}</p>
          <p><strong>Market Cap:</strong> ${company.marketCapBucket || 'N/A'}</p>
          <p><strong>Tags:</strong> ${(company.tags || []).join(', ') || 'N/A'}</p>
          <p><a href="${company.website}" target="_blank" rel="noopener">Website</a></p>
          ${company.careersUrl ? `<p><a href="${company.careersUrl}" target="_blank" rel="noopener">Careers</a></p>` : ''}
        `;
        container.appendChild(card);
      });
    })
    .catch(err => console.error("Error loading companies:", err));
  </script>

  <script>
    loadComponent("footer-container", "../components/footer.html");
  </script>
 
  <!-- Footer Wrapper -->
  <div id="footer-container">
    <!-- Injected content from footer.html -->
  </div>


</body>
</html>